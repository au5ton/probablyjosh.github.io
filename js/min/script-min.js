function request(e,t){var r=new XMLHttpRequest;r.addEventListener("load",function(){t(JSON.parse(r.responseText))}),r.open("GET",e,!0),r.send()}request("http://last-fm-api-josh-trommel.herokuapp.com/latest",function(e){var t=document.querySelector("#lastfm-current");if(e.error)t.innerText="Failed to load.";else{var r=document.createElement("a");r.href=e.result.url,r.innerText=e.result.name;var n=document.createDocumentFragment();n.textContent=" by "+e.result.artist["#text"],t.innerText="",t.appendChild(r),t.appendChild(n)}}),request("http://teamtreehouse.com/josht.json",function(e){var t=document.querySelector("#treehouse-badges");t.innerText=e.error?"Failed to load.":e.badges.length}),request("https://api.github.com/users/probablyjosh/repos",function(e){var t=document.querySelector("#github-repos");t.innerText=e.error?"Failed to load":e.length});